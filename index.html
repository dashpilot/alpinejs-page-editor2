<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Dynamic Section Editor</title>
		<link href="assets/style.css" rel="stylesheet" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
		/>
	</head>
	<body>
		<div id="app">
			<template x-if="data && data.hero">
				<div>
					<section class="section" x-edit="hero">
						<h1 x-text="data.hero.title"></h1>
						<p x-text="data.hero.description"></p>
						<a :href="data.hero.cta.url" x-text="data.hero.cta.text"></a>
					</section>

					<section class="section" x-edit="features">
						<template x-for="(feature, index) in data.features" :key="index">
							<div class="feature">
								<h2 x-text="feature.title"></h2>
								<p x-text="feature.description"></p>
								<img :src="feature.image" alt="" style="width: 750px" />
							</div>
						</template>
					</section>

					<section class="section" x-edit="about">
						<h2 x-text="data.about.heading"></h2>
						<p x-text="data.about.content"></p>
						<img :src="data.about.image" alt="" style="width: 750px" />
					</section>

					<section class="section" x-edit="body">
						<div x-html="data.body"></div>
					</section>
				</div>
			</template>
		</div>

		<!-- Floating Menu -->
		<div class="floating-menu" x-data="{ showPublishModal: false }">
			<button class="floating-btn dashboard-btn" onclick="window.location.href='/dashboard'">
				<i class="bi bi-speedometer2"></i>
				<span>Dashboard</span>
			</button>
			<button class="floating-btn publish-btn" @click="showPublishModal = true">
				<i class="bi bi-cloud-upload"></i>
				<span>Publish</span>
			</button>
		</div>

		<!-- Publish Modal -->
		<div
			class="modal-overlay"
			x-show="showPublishModal"
			@click="showPublishModal = false"
			x-transition:enter="transition ease-out duration-300"
			x-transition:enter-start="opacity-0"
			x-transition:enter-end="opacity-100"
			x-transition:leave="transition ease-in duration-200"
			x-transition:leave-start="opacity-100"
			x-transition:leave-end="opacity-0"
		>
			<div
				class="modal"
				@click.stop
				x-transition:enter="transition ease-out duration-300"
				x-transition:enter-start="opacity-0 transform scale-95"
				x-transition:enter-end="opacity-100 transform scale-100"
				x-transition:leave="transition ease-in duration-200"
				x-transition:leave-start="opacity-100 transform scale-100"
				x-transition:leave-end="opacity-0 transform scale-95"
			>
				<div class="modal-header">
					<h3>Publish</h3>
					<button class="modal-close" @click="showPublishModal = false">
						<i class="bi bi-x"></i>
					</button>
				</div>
				<div class="modal-body">
					<p>Publish functionality will be implemented here.</p>
				</div>
			</div>
		</div>

		<script type="module" src="/main.js"></script>
	</body>
</html>
